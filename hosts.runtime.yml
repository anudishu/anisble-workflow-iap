all:
  children:
    targets:
      hosts:
        ansible-rhel9-vm:
          ansible_host: ansible-rhel9-vm
          ansible_user: askcloudedge_gmail_com               # Personal SSH user
          ansible_ssh_common_args: >-
            -o ProxyCommand="gcloud compute start-iap-tunnel ansible-rhel9-vm 22 
            --listen-on-stdin --project=probable-cove-474504-p0 --zone=us-central1-a 
            --impersonate-service-account=ansible-automation@probable-cove-474504-p0.iam.gserviceaccount.com
            --verbosity=warning" 
            -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null
          ansible_ssh_private_key_file: '/Users/Sumit_Kumar/.ssh/ansible_test_key'
          ansible_python_interpreter: auto_silent
      vars:
        # Hybrid approach: Personal SSH + Service Account for GCP operations
        gcp_project: "probable-cove-474504-p0" 
        gcp_zone: "us-central1-a"
        service_account: "ansible-automation@probable-cove-474504-p0.iam.gserviceaccount.com"